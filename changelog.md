## История изменений

**2.2.20**
- Добавлен метод замены указанного экшэна в паке: replace_action

**2.2.19**
- Использование автоматического роутинга вместо дефолтной БД в методе safe_delete 

**2.2.18**
- Исправлена зависимость от m3-django-compat, начиная с 1.7.0

**2.2.17**
- Добавлена поддержка django 2.0.

**2.2.16**
- Удалено использование pip API в связи с тем, что в версии 10 оно было
  закрыто.

**2.2.15**
- Отключена сортировка словаря ответа PreJsonResult для поддержки Python 3.6. 

**2.2.14**
- Добавлена поддержка Python 3.6.

**2.2.13**
- Исправлена ошибка многократной регистрации точек расширения

**2.2.12**
- Метод ``ControllerCache._get_installed_apps()`` перенесен в m3-django-compat.

**2.2.11**
- Добавлена поддержка классов конфигурации django-приложений в параметре
  ``INSTALLED_APPS``.

**2.2.10**
- Добавлена поддержка ``django.utils.safestring.mark_safe`` при экранировании
  символов HTML-разметки в ``m3.M3JSONEncoder``

**2.2.9**
- Добавлено экранирование символов HTML-разметки в ``m3.M3JSONEncoder``

**2.2.8**
- Исправлена ошибка в зависимости от пакета ``m3-django-compat``, которая
  приводила к тому, что при установке зависимостей в соответствии со списком
  зависимостей проекта устанавливалась версия 1.2.3 несмотря на то, что другие
  пакеты требовали более высоких версий ``m3-django-compat``.

**2.2.7**
- Изменение для совместимости с `m3-audit>=2.1.0`
- Исправлен баг в функции ``m3.actions.utils.apply_column_filter``

**2.2.6**
- Изменения для совместимости с Django 1.10.

**2.2.5**
- Исправлено присвоение родителя в функции ``tree_packs.BaseTreeDictionaryModelActions.drag_node``
- Вместо параметра [`DATE_FORMAT`](https://docs.djangoproject.com/en/1.9/ref/settings/#date-format) из настроек Django используется 
 `PYTHON_DATE_FORMAT`.

**2.2.4**
- Изменения для совместимости с Django 1.9+.

**2.2.3**
- Изменения для совместимости с Django 1.8+.

**2.2.2**
- Изменения для совместимости с Django 1.7+.

**2.2.1**
- Подключение пакета `m3-django-compat>=1.1.0,<1.2.0`.
- Задействованы менеджеры моделей с поддержкой [переименования метода
  ``get_query_set`` в ``get_queryset``](https://docs.djangoproject.com/en/1.9/releases/1.6/#get-query-set-and-similar-methods-renamed-to-get-queryset).
- Задействован [``atomic``](https://docs.djangoproject.com/en/1.9/topics/db/transactions/#django.db.transaction.atomic)
  совместимый с Django<1.6.

**2.2.0**
- Подключение пакета `m3-django-compat>=1.0.0,<1.1.0`. Добавлена поддержка
  кастомных [моделей учетных записей](https://docs.djangoproject.com/en/1.9/topics/auth/customizing/#auth-custom-user).

**2.0.12.2**
- В ``ActionContextDeclaration`` добавлена возможность указать ``None`` в качестве значения по-умолчанию

**2.0.12.1**
- Исправлена ошибка в коллекции парсеров контекста

**2.0.12**
- Вызов BaseObjectModel.safe_delete теперь возвращает True в случае успеха
- теперь DeclarativeActionContext поддерживает режимы
- Реализован рекурсивный поисковик статики (``RecursiveAppDirectoriesFinder``)
- Проверка прав древовидном справочнике полностью переведена на спользование has_perm

**2.0.11**
- has_sub_permission заменен на has_perm в диктово-древесных паках
- Выпилен list_view у диктового/древесного пака
- Теперь доступен override для одних паков другими
- Теперь СОВСЕМ НЕЛЬЗЯ регистрировать классы/строки в контроллеры - только экземпляры! Контрибы, сломанные в этим изменением и уже починенные: `m3-users>=2.0.1`, `m3_kladr>=2.0.2`
- ActionController.append_pack теперь возвращает фактически добавленный пак
- Поправлен поиск экшнов/паков по правам
- В Django 1.6 удалили логгер по-умолчанию. Оставляется обратная совместимость и поддержка джанги 1.6

**2.0.10**
- Оптимизирован m3.actions.utils.create_search_filter
- Изменения касательно мониторинга:
- Отрефакторен мониторинг контроллеров
  - Теперь URL контроллера получается только один раз.
  - Исправлен формат отсылаемых контекстов.
  - Функция отправки контекстов на удаленный сервер.
  - Расширен набор отправляемой с метриками информации.
  - README для подключения метрик.
- Теперь неудавшееся удаление потомка BaseObjectModel сопровождается исключением RelatedError
- Поправлено поведение safe_delete для mptt-моделей

